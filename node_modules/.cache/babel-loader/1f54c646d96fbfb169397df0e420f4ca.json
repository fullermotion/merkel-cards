{"ast":null,"code":"import _asyncToGenerator from\"/Users/garyfuller/Desktop/fe-merkel-test/myapp/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"/Users/garyfuller/Desktop/fe-merkel-test/myapp/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import _regeneratorRuntime from\"/Users/garyfuller/Desktop/fe-merkel-test/myapp/node_modules/@babel/runtime/regenerator/index.js\";import'./App.css';import{useEffect,useState}from\"react\";// https://assets.codepen.io/1082881/data.json\n// 1. Fetch the data from endpoint\n// 2. Get the items array from the data\n// 3. Filter items array to only contain products on sale (hasDiscount === true)\n// 4. Loop over items, generate HTML with JS, and insert into the dom\nimport{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function App(){var _useState=useState([]),_useState2=_slicedToArray(_useState,2),cards=_useState2[0],setCards=_useState2[1];useEffect(function(){var getData=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var getDataFromServer,traversedData,dedupeData,data;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.prev=0;_context.next=3;return fetchCardData();case 3:getDataFromServer=_context.sent;traversedData=getDataFromServer.some.place.pretty.nested.items;dedupeData=traversedData.filter(function(item,index,self){return index===self.findIndex(function(t){return t.id===item.id;});});data=dedupeData.filter(function(item){return item.hasDiscount===true;});setCards(data);_context.next=13;break;case 10:_context.prev=10;_context.t0=_context[\"catch\"](0);return _context.abrupt(\"return\",_context.t0);case 13:case\"end\":return _context.stop();}}},_callee,null,[[0,10]]);}));return function getData(){return _ref.apply(this,arguments);};}();getData();},[]);var fetchCardData=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(){var response;return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:_context2.next=2;return fetch('https://assets.codepen.io/1082881/data.json');case 2:response=_context2.sent;_context2.next=5;return response.json();case 5:return _context2.abrupt(\"return\",_context2.sent);case 6:case\"end\":return _context2.stop();}}},_callee2);}));return function fetchCardData(){return _ref2.apply(this,arguments);};}();return/*#__PURE__*/_jsxs(\"div\",{className:\"container App\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"instructions text-center\",children:[/*#__PURE__*/_jsx(\"h1\",{children:\"Front-end Code Test\"}),/*#__PURE__*/_jsx(\"h3\",{children:\"Parse and Render Test\"})]}),/*#__PURE__*/_jsx(\"div\",{className:\"row\",children:cards.map(function(card){return/*#__PURE__*/_jsx(\"div\",{className:\"col-12 col-md-4\",children:/*#__PURE__*/_jsx(\"div\",{className:\"card bg-light m-1 text-left\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"card-body text-left\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"card-title\",children:card.name}),/*#__PURE__*/_jsx(\"p\",{children:card.description}),card.price&&/*#__PURE__*/_jsxs(\"p\",{children:[\"Price: $\",card.price]})]})})},card.id);})})]});}export default App;","map":{"version":3,"names":["useEffect","useState","App","cards","setCards","getData","fetchCardData","getDataFromServer","traversedData","some","place","pretty","nested","items","dedupeData","filter","item","index","self","findIndex","t","id","data","hasDiscount","fetch","response","json","map","card","name","description","price"],"sources":["/Users/garyfuller/Desktop/fe-merkel-test/myapp/src/App.js"],"sourcesContent":["import './App.css';\nimport {useEffect, useState} from \"react\";\n\n// https://assets.codepen.io/1082881/data.json\n// 1. Fetch the data from endpoint\n// 2. Get the items array from the data\n// 3. Filter items array to only contain products on sale (hasDiscount === true)\n// 4. Loop over items, generate HTML with JS, and insert into the dom\n\nfunction App() {\n    const [cards, setCards] = useState([]);\n\n    useEffect(() => {\n        const getData = async () => {\n            try {\n                const getDataFromServer = await fetchCardData();\n                const traversedData = getDataFromServer.some.place.pretty.nested.items;\n                const dedupeData = traversedData.filter((item, index, self) =>\n                        index === self.findIndex((t) => (\n                            t.id === item.id\n                        ))\n                );\n                const data = dedupeData.filter(item => item.hasDiscount === true);\n                setCards(data);\n            } catch (err) {\n                return err;\n            }\n        };\n        getData();\n\n    }, []);\n\n    const fetchCardData = async () => {\n        const response = await fetch('https://assets.codepen.io/1082881/data.json');\n        return await response.json();\n    };\n\n\n    return (\n        <div className=\"container App\">\n            <div className={\"instructions text-center\"}>\n                <h1>Front-end Code Test</h1>\n                <h3>Parse and Render Test</h3>\n            </div>\n            <div className=\"row\" >\n                {cards.map(card =>\n                    <div className={\"col-12 col-md-4\"} key={card.id}>\n                        <div className=\"card bg-light m-1 text-left\">\n                            <div className=\"card-body text-left\">\n                                <h3 className=\"card-title\">{card.name}</h3>\n                                <p>{card.description}</p>\n                                {card.price && <p>Price: ${card.price}</p>}\n                            </div>\n                        </div>\n                    </div>\n                )}\n            </div>\n        </div>\n    );\n}\n\nexport default App;\n"],"mappings":"+YAAA,MAAO,WAAP,CACA,OAAQA,SAAR,CAAmBC,QAAnB,KAAkC,OAAlC,CAEA;AACA;AACA;AACA;AACA;wFAEA,QAASC,CAAAA,GAAT,EAAe,CACX,cAA0BD,QAAQ,CAAC,EAAD,CAAlC,wCAAOE,KAAP,eAAcC,QAAd,eAEAJ,SAAS,CAAC,UAAM,CACZ,GAAMK,CAAAA,OAAO,0FAAG,6NAEwBC,CAAAA,aAAa,EAFrC,QAEFC,iBAFE,eAGFC,aAHE,CAGcD,iBAAiB,CAACE,IAAlB,CAAuBC,KAAvB,CAA6BC,MAA7B,CAAoCC,MAApC,CAA2CC,KAHzD,CAIFC,UAJE,CAIWN,aAAa,CAACO,MAAd,CAAqB,SAACC,IAAD,CAAOC,KAAP,CAAcC,IAAd,QAChCD,CAAAA,KAAK,GAAKC,IAAI,CAACC,SAAL,CAAe,SAACC,CAAD,QACrBA,CAAAA,CAAC,CAACC,EAAF,GAASL,IAAI,CAACK,EADO,EAAf,CADsB,EAArB,CAJX,CASFC,IATE,CASKR,UAAU,CAACC,MAAX,CAAkB,SAAAC,IAAI,QAAIA,CAAAA,IAAI,CAACO,WAAL,GAAqB,IAAzB,EAAtB,CATL,CAURnB,QAAQ,CAACkB,IAAD,CAAR,CAVQ,mMAAH,kBAAPjB,CAAAA,OAAO,0CAAb,CAeAA,OAAO,GAEV,CAlBQ,CAkBN,EAlBM,CAAT,CAoBA,GAAMC,CAAAA,aAAa,2FAAG,4KACKkB,CAAAA,KAAK,CAAC,6CAAD,CADV,QACZC,QADY,uCAELA,CAAAA,QAAQ,CAACC,IAAT,EAFK,iHAAH,kBAAbpB,CAAAA,aAAa,2CAAnB,CAMA,mBACI,aAAK,SAAS,CAAC,eAAf,wBACI,aAAK,SAAS,CAAE,0BAAhB,wBACI,2CADJ,cAEI,6CAFJ,GADJ,cAKI,YAAK,SAAS,CAAC,KAAf,UACKH,KAAK,CAACwB,GAAN,CAAU,SAAAC,IAAI,qBACX,YAAK,SAAS,CAAE,iBAAhB,uBACI,YAAK,SAAS,CAAC,6BAAf,uBACI,aAAK,SAAS,CAAC,qBAAf,wBACI,WAAI,SAAS,CAAC,YAAd,UAA4BA,IAAI,CAACC,IAAjC,EADJ,cAEI,mBAAID,IAAI,CAACE,WAAT,EAFJ,CAGKF,IAAI,CAACG,KAAL,eAAc,gCAAYH,IAAI,CAACG,KAAjB,GAHnB,GADJ,EADJ,EAAwCH,IAAI,CAACP,EAA7C,CADW,EAAd,CADL,EALJ,GADJ,CAqBH,CAED,cAAenB,CAAAA,GAAf"},"metadata":{},"sourceType":"module"}